# =================================================================================
# ğŸ—ï¸ RBACç®¡ç†å‘˜æœåŠ¡å™¨ - ç”Ÿäº§ç¯å¢ƒé…ç½®
# =================================================================================
# ğŸ“‹ ç”Ÿäº§ç¯å¢ƒç‰¹æ€§ï¼š
#   - æœ€é«˜å®‰å…¨çº§åˆ«ï¼Œæ‰€æœ‰æ•æ„Ÿä¿¡æ¯ä½¿ç”¨ç¯å¢ƒå˜é‡
#   - æ€§èƒ½ä¼˜åŒ–é…ç½®ï¼Œæ”¯æŒé«˜å¹¶å‘
#   - å®Œæ•´ç›‘æ§å’Œå‘Šè­¦é…ç½®
#   - ä¸¥æ ¼çš„è®¿é—®æ§åˆ¶å’Œå®‰å…¨ç­–ç•¥
#   - ç”Ÿäº§çº§æ—¥å¿—é…ç½®å’Œå¤‡ä»½ç­–ç•¥
# =================================================================================

# ç³»ç»Ÿé…ç½®
system:
  ip: ${SYSTEM_IP:-127.0.0.1}    # ç›‘å¬IPï¼Œé€šè¿‡ç¯å¢ƒå˜é‡é…ç½®
  port: ${SYSTEM_PORT:-8080}      # ç”Ÿäº§ç¯å¢ƒç«¯å£ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡é…ç½®

# æ•°æ®åº“é…ç½® - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ç¯å¢ƒå˜é‡
# æ‰€æœ‰æ•æ„Ÿä¿¡æ¯å¿…é¡»é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®
db:
  mode: "mysql"                 # ç”Ÿäº§ç¯å¢ƒä½¿ç”¨MySQL
  host: ${DB_HOST:-192.168.10.199}  # æ•°æ®åº“ä¸»æœºï¼ˆç¯å¢ƒå˜é‡ï¼Œé»˜è®¤ä¸º192.168.10.199ï¼‰
  port: ${DB_PORT:-3306}         # æ•°æ®åº“ç«¯å£
  user: ${DB_USERNAME:-root}      # æ•°æ®åº“ç”¨æˆ·åï¼ˆç¯å¢ƒå˜é‡ï¼Œé»˜è®¤ä¸ºrootï¼‰
  password: ${DB_PASSWORD}        # æ•°æ®åº“å¯†ç ï¼ˆç¯å¢ƒå˜é‡ï¼‰
  dbname: ${DB_NAME:-rbacadmin}  # æ•°æ®åº“åç§°ï¼ˆç¯å¢ƒå˜é‡ï¼Œé»˜è®¤ä¸ºrbacadminï¼‰
  max_open_conns: 200           # ç”Ÿäº§ç¯å¢ƒé«˜å¹¶å‘è¿æ¥æ•°
  max_idle_conns: 50
  conn_max_lifetime: 8h         # ç”Ÿäº§ç¯å¢ƒé•¿è¿æ¥ç”Ÿå‘½å‘¨æœŸ
  conn_max_idle_time: 1h
  ssl_mode: "require"           # ç”Ÿäº§ç¯å¢ƒå¼ºåˆ¶SSL
  timeout: "30s"

# ğŸ” JWTé…ç½® - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨å¼ºå¯†é’¥
jwt:
  secret: ${JWT_SECRET}         # JWTå¯†é’¥ï¼ˆç¯å¢ƒå˜é‡ï¼Œå¿…é¡»è®¾ç½®ï¼‰
  expire_hours: 24              # ç”Ÿäº§ç¯å¢ƒæ ‡å‡†æœ‰æ•ˆæœŸ
  refresh_expire_hours: 168     # 7å¤©åˆ·æ–°æœ‰æ•ˆæœŸ
  issuer: ${JWT_ISSUER:-rbac-admin}    # ä»¤ç‰Œé¢å‘è€…
  audience: ${JWT_AUDIENCE:-rbac-admin}  # ä»¤ç‰Œå—ä¼—

# Redisé…ç½® - ç”Ÿäº§ç¯å¢ƒä½¿ç”¨é›†ç¾¤æˆ–å“¨å…µ
redis:
  addr: ${REDIS_ADDR:-192.168.10.199:6379}  # Redisåœ°å€ï¼ˆç¯å¢ƒå˜é‡ï¼Œé»˜è®¤ä¸º192.168.10.199:6379ï¼‰
  password: ${REDIS_PASSWORD}     # Rediså¯†ç ï¼ˆç¯å¢ƒå˜é‡ï¼‰
  db: ${REDIS_DB:-4}              # Redisæ•°æ®åº“ç¼–å·ï¼ˆç¯å¢ƒå˜é‡ï¼Œé»˜è®¤ä¸º4ï¼‰
  pool_size: 500                  # ç”Ÿäº§ç¯å¢ƒå¤§è¿æ¥æ± 
  min_idle_conns: 50
  max_conn_age: 1h
  dial_timeout: 10s
  read_timeout: 5s
  write_timeout: 5s

# ğŸ“ æ—¥å¿—é…ç½® - ç”Ÿäº§ç¯å¢ƒå®Œæ•´æ—¥å¿—ç­–ç•¥
log:
  level: ${LOG_LEVEL:-info}      # æ—¥å¿—çº§åˆ«ï¼ˆç¯å¢ƒå˜é‡ï¼‰
  format: "json"                 # JSONæ ¼å¼ä¾¿äºæ—¥å¿—æ”¶é›†
  output: "both"                 # åŒæ—¶è¾“å‡ºåˆ°stdoutå’Œæ–‡ä»¶
  log_dir: ${LOG_DIR:-/var/log/rbac-admin}  # ç”Ÿäº§ç¯å¢ƒæ—¥å¿—ç›®å½•
  max_size: 100                  # ç”Ÿäº§ç¯å¢ƒå¤§æ–‡ä»¶
  max_age: 30                    # ä¿ç•™30å¤©
  max_backups: 10              # ä¿ç•™10ä¸ªå¤‡ä»½
  compress: true                 # å‹ç¼©èŠ‚çœç©ºé—´
  enable_caller: true
  enable_trace: true

# âš¡ æ€§èƒ½é…ç½® - ç”Ÿäº§ç¯å¢ƒä¼˜åŒ–é…ç½®
performance:
  enable_pprof: false           # ç”Ÿäº§ç¯å¢ƒå…³é—­æ€§èƒ½åˆ†æ
  max_upload_size: "50MB"        # ç”Ÿäº§ç¯å¢ƒåˆç†ä¸Šä¼ é™åˆ¶
  request_rate_limit: 1000      # ç”Ÿäº§ç¯å¢ƒåˆç†é™æµ
  burst_rate_limit: 2000
  enable_compression: true      # ç”Ÿäº§ç¯å¢ƒå¯ç”¨å‹ç¼©
  compression_level: 6        # å¹³è¡¡å‹ç¼©ç‡å’Œæ€§èƒ½

# ğŸ“‚ æ–‡ä»¶ä¸Šä¼ é…ç½®
upload:
  max_file_size: "50MB"         # ç”Ÿäº§ç¯å¢ƒæ ‡å‡†é™åˆ¶
  allowed_extensions: [".jpg", ".jpeg", ".png", ".gif", ".pdf", ".doc", ".docx"]
  allowed_mime_types: 
    - "image/jpeg"
    - "image/png"
    - "image/gif"
    - "application/pdf"
    - "application/msword"
    - "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
  storage_type: "local"         # ç”Ÿäº§ç¯å¢ƒå¯é…ç½®ä¸ºäº‘å­˜å‚¨
  storage_path: ${UPLOAD_DIR:-/var/uploads/rbac-admin}  # ä¸Šä¼ ç›®å½•
  max_files_per_request: 5

# ğŸ” ç›‘æ§é…ç½® - ç”Ÿäº§ç¯å¢ƒå®Œæ•´ç›‘æ§
monitoring:
  enable_health_check: true
  health_check_path: "/health"
  enable_metrics: true
  metrics_path: "/metrics"
  enable_tracing: ${ENABLE_TRACING:-false}  # ç”Ÿäº§ç¯å¢ƒå¯é€‰é“¾è·¯è¿½è¸ª
  tracing_endpoint: ${TRACING_ENDPOINT:-http://jaeger:14268/api/traces}

# ğŸŒ CORSé…ç½® - ç”Ÿäº§ç¯å¢ƒä¸¥æ ¼é…ç½®
cors:
  enable: true
  allow_origins: ${CORS_ORIGINS:-https://admin.rbac-system.com}  # ç”Ÿäº§ç¯å¢ƒæŒ‡å®šåŸŸå
  allow_methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS"]
  allow_headers: 
    - "Content-Type"
    - "Authorization"
    - "X-Requested-With"
    - "X-API-Key"
  allow_credentials: true
  max_age: 1h

# ğŸ”’ å®‰å…¨é…ç½® - ç”Ÿäº§ç¯å¢ƒæœ€é«˜å®‰å…¨çº§åˆ«
security:
  bcrypt_cost: 14              # ç”Ÿäº§ç¯å¢ƒä½¿ç”¨æœ€é«˜å®‰å…¨çº§åˆ«
  max_login_attempts: 5        # ç”Ÿäº§ç¯å¢ƒæ ‡å‡†é™åˆ¶
  lock_duration_minutes: 30     # ç”Ÿäº§ç¯å¢ƒæ ‡å‡†é”å®š
  session_timeout: 2h          # ç”Ÿäº§ç¯å¢ƒé€‚ä¸­ä¼šè¯
  api_key_header: "X-API-Key"
  enable_csrf: true            # ç”Ÿäº§ç¯å¢ƒå¯ç”¨CSRFä¿æŠ¤
  csrf_secret: ${CSRF_SECRET}  # CSRFå¯†é’¥ï¼ˆç¯å¢ƒå˜é‡ï¼‰

# ğŸ“š Swaggeré…ç½® - ç”Ÿäº§ç¯å¢ƒå¯é€‰
swagger:
  enable: ${ENABLE_SWAGGER:-false}  # ç”Ÿäº§ç¯å¢ƒé»˜è®¤å…³é—­Swagger
  title: "RBACç®¡ç†å‘˜API - ç”Ÿäº§ç¯å¢ƒ"
  description: "RBACç®¡ç†å‘˜æœåŠ¡å™¨APIæ–‡æ¡£ - ç”Ÿäº§ç¯å¢ƒ"
  version: "1.0.0"
  host: ${SWAGGER_HOST:-api.rbac-system.com}
  base_path: "/api/v1"
  enable_ui: false              # ç”Ÿäº§ç¯å¢ƒå…³é—­Swagger UI

# ğŸ¯ åº”ç”¨é…ç½®
app:
  name: "RBACç®¡ç†å‘˜"
  version: "1.0.0"
  environment: "production"
  debug: false