# ================================================
# RBACç®¡ç†å‘˜æœåŠ¡å™¨ - ä¸»é…ç½®æ–‡ä»¶
# æ”¯æŒç¯å¢ƒå˜é‡æ›¿æ¢å’Œé…ç½®éªŒè¯
# ================================================

# ğŸ–¥ï¸ æœåŠ¡å™¨é…ç½®
system:
  ip: 127.0.0.1               # æœåŠ¡IPåœ°å€
  port: 8090                  # æœåŠ¡ç«¯å£ï¼ˆä¸rbacAdminä¿æŒä¸€è‡´ï¼‰
  mode: "debug"               # è¿è¡Œæ¨¡å¼: debug, release

# ğŸ—„ï¸ æ•°æ®åº“é…ç½®
db:
  mode: "mysql"                # æ•°æ®åº“ç±»å‹: mysql, postgres, sqlite
  host: "127.0.0.1"           # æ•°æ®åº“ä¸»æœº
  port: 3306                  # æ•°æ®åº“ç«¯å£
  user: "root"                 # æ•°æ®åº“ç”¨æˆ·å
  password: "admin123"         # æ•°æ®åº“å¯†ç 
  dbname: "rbac_admin"         # æ•°æ®åº“åç§°
  max_open_conns: 100         # æœ€å¤§è¿æ¥æ•°
  max_idle_conns: 10          # ç©ºé—²è¿æ¥æ•°
  conn_max_lifetime: 3600     # è¿æ¥ç”Ÿå‘½å‘¨æœŸ(ç§’)

# ğŸ”„ Redisé…ç½®
redis:
  addr: "${REDIS_ADDR:127.0.0.1:6379}"          # Redisåœ°å€
  password: "${REDIS_PASSWORD}"                 # Rediså¯†ç 
  db: ${REDIS_DB:3}                        # Redisæ•°æ®åº“ç¼–å·ï¼ˆä¸rbacAdminä¿æŒä¸€è‡´ï¼‰
  pool_size: 20                # è¿æ¥æ± å¤§å°
  min_idle_conns: 5            # æœ€å°ç©ºé—²è¿æ¥æ•°

# ğŸ“ æ—¥å¿—é…ç½®
log:
  level: "info"                # æ—¥å¿—çº§åˆ«: debug, info, warn, error
  format: "text"               # æ—¥å¿—æ ¼å¼: json, text
  stdout: true                 # è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º
  dir: "./logs"                # æ—¥å¿—ç›®å½•
  max_size: 100                # æœ€å¤§æ–‡ä»¶å¤§å°(MB)
  max_backups: 3               # æœ€å¤§å¤‡ä»½æ–‡ä»¶æ•°
  max_age: 7                   # æœ€å¤§ä¿å­˜å¤©æ•°
  compress: true               # æ˜¯å¦å‹ç¼©æ—§æ—¥å¿—
  enable_caller: true          # æ˜¯å¦å¯ç”¨è°ƒç”¨è€…ä¿¡æ¯

# ğŸ” JWTè®¤è¯é…ç½®
jwt:
  secret: "${JWT_SECRET:aB3kL9mN7xY2qR8sT1uV4wE6zC0pF5gH}"  # JWTå¯†é’¥ (å¤§å°å†™å­—æ¯+æ•°å­—ç»„åˆ)
  expire_hours: 72                            # Tokenè¿‡æœŸæ—¶é—´(å°æ—¶)ï¼ˆä¸rbacAdminä¿æŒä¸€è‡´ï¼‰
  refresh_expire_hours: 168                   # åˆ·æ–°Tokenè¿‡æœŸæ—¶é—´(å°æ—¶)
  issuer: "rbacAdmin"                         # Tokenç­¾å‘è€…ï¼ˆä¸rbacAdminä¿æŒä¸€è‡´ï¼‰
  audience: "rbac-client"                     # Tokenå—ä¼—

# ğŸ“§ é‚®ç®±é…ç½®
email:
  user: "${EMAIL_USER}"  # å‘é€è€…é‚®ç®±åœ°å€
  password: "${EMAIL_PASSWORD}"  # æˆæƒå¯†ç 
  host: smtp.qq.com  # é‚®ç®±æœåŠ¡å™¨
  port: 465  # ç«¯å£

captcha:
    enable: true
    width: 120
    height: 40
    length: 4
    expire_seconds: 300

# ğŸ“Š ç›‘æ§é…ç½®
monitoring:
  enabled: true
  prometheus_port: 9090
  health_check_path: /health
  metrics_path: /metrics
  trace_sampling_rate: 0.1

# ğŸŒ CORSé…ç½®
cors:
  enable: true                 # æ˜¯å¦å¯ç”¨CORS
  allow_origins:               # å…è®¸çš„æ¥æº
    - "http://localhost:3000"
    - "http://localhost:8080"
  allow_methods:               # å…è®¸çš„HTTPæ–¹æ³•
    - "GET"
    - "POST"
    - "PUT"
    - "DELETE"
    - "OPTIONS"
  allow_headers:               # å…è®¸çš„HTTPå¤´
    - "Origin"
    - "Content-Type"
    - "Authorization"
  allow_credentials: true      # æ˜¯å¦å…è®¸å‡­è¯
  max_age: 3600                # é¢„æ£€è¯·æ±‚ç¼“å­˜æ—¶é—´

# ğŸ”’ å®‰å…¨é…ç½®
security:
  enable_csrf: false           # æ˜¯å¦å¯ç”¨CSRFä¿æŠ¤
  rate_limit: 100              # æ¯åˆ†é’Ÿè¯·æ±‚é™åˆ¶
  xss_protection: true         # æ˜¯å¦å¯ç”¨XSSä¿æŠ¤
  content_security_policy: "default-src 'self'"

# âš¡ æ€§èƒ½é…ç½®
performance:
  enable_gzip: true            # æ˜¯å¦å¯ç”¨Gzipå‹ç¼©
  cache_size: 100              # ç¼“å­˜å¤§å°(MB)

# ğŸ“¤ ä¸Šä¼ é…ç½®
upload:
  enable: true                 # æ˜¯å¦å¯ç”¨æ–‡ä»¶ä¸Šä¼ 
  max_size: 10                 # æœ€å¤§æ–‡ä»¶å¤§å°(MB)
  save_path: "./uploads"       # æ–‡ä»¶ä¿å­˜è·¯å¾„
  allow_types:                 # å…è®¸çš„æ–‡ä»¶ç±»å‹
    - "image/jpeg"
    - "image/png"
    - "application/pdf"

# ğŸ“š Swaggeré…ç½®
swagger:
  enable: true                 # æ˜¯å¦å¯ç”¨Swagger
  path: "/swagger/"            # Swaggerè·¯å¾„
  title: "RBACç®¡ç†å‘˜ç³»ç»ŸAPI"     # Swaggeræ ‡é¢˜
  description: "RBACæƒé™ç®¡ç†ç³»ç»ŸAPIæ–‡æ¡£"
  version: "1.0.0"             # APIç‰ˆæœ¬

# ğŸ“± åº”ç”¨é…ç½®
app:
  name: "RBACç®¡ç†å‘˜ç³»ç»Ÿ"
  version: "1.0.0"
  description: "ä¼ä¸šçº§RBACæƒé™ç®¡ç†è§£å†³æ–¹æ¡ˆ"
  copyright: "Â© 2024 RBACç®¡ç†å‘˜ç³»ç»Ÿå›¢é˜Ÿ"
