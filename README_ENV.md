# ğŸŒ ç¯å¢ƒåˆ‡æ¢åŠŸèƒ½å®ŒæˆæŠ¥å‘Š

## âœ… å·²å®ç°åŠŸèƒ½

### 1. æ ¸å¿ƒåŠŸèƒ½
- âœ… ä½¿ç”¨flagåº“å®ç°å‘½ä»¤è¡Œå‚æ•°è§£æ
- âœ… æ”¯æŒä¸‰ç§è¿è¡Œç¯å¢ƒï¼šå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§
- âœ… è‡ªåŠ¨åŠ è½½å¯¹åº”ç¯å¢ƒçš„é…ç½®æ–‡ä»¶
- âœ… æ”¯æŒè‡ªå®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„
- âœ… æ™ºèƒ½ç¯å¢ƒè¯†åˆ«å’Œé”™è¯¯å¤„ç†

### 2. é…ç½®æ–‡ä»¶
- âœ… `settings_dev.yaml` - å¼€å‘ç¯å¢ƒé…ç½®
- âœ… `settings_test.yaml` - æµ‹è¯•ç¯å¢ƒé…ç½®  
- âœ… `settings_prod.yaml` - ç”Ÿäº§ç¯å¢ƒé…ç½®

### 3. å¯åŠ¨è„šæœ¬
- âœ… `run-dev.bat` - Windowså¼€å‘ç¯å¢ƒä¸€é”®å¯åŠ¨
- âœ… `run-test.bat` - Windowsæµ‹è¯•ç¯å¢ƒä¸€é”®å¯åŠ¨
- âœ… `run-prod.bat` - Windowsç”Ÿäº§ç¯å¢ƒä¸€é”®å¯åŠ¨
- âœ… `run-dev.sh` - Linux/Macå¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬

### 4. ä½¿ç”¨æ–‡æ¡£
- âœ… `ENVIRONMENT_GUIDE.md` - è¯¦ç»†ä½¿ç”¨æŒ‡å—
- âœ… `README_ENV.md` - æœ¬å®ŒæˆæŠ¥å‘Š

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¿«é€Ÿå¼€å§‹
```bash
# å¼€å‘ç¯å¢ƒ
go run main.go -env=dev
# æˆ–åŒå‡» run-dev.bat

# æµ‹è¯•ç¯å¢ƒ  
go run main.go -env=test
# æˆ–åŒå‡» run-test.bat

# ç”Ÿäº§ç¯å¢ƒ
go run main.go -env=prod  
# æˆ–åŒå‡» run-prod.bat
```

### é«˜çº§ç”¨æ³•
```bash
# è‡ªå®šä¹‰é…ç½®æ–‡ä»¶
go run main.go -config=/path/to/config.yaml

# æŸ¥çœ‹å¸®åŠ©
go run main.go -h
```

## ğŸ“Š ç¯å¢ƒå¯¹æ¯”

| ç‰¹æ€§ | å¼€å‘ç¯å¢ƒ | æµ‹è¯•ç¯å¢ƒ | ç”Ÿäº§ç¯å¢ƒ |
|------|----------|----------|----------|
| **ç«¯å£** | 8080 | 8081 | ç¯å¢ƒå˜é‡PORT |
| **æ•°æ®åº“** | SQLite | MySQLæµ‹è¯•åº“ | MySQLç”Ÿäº§åº“ |
| **æ—¥å¿—çº§åˆ«** | debug | info | info |
| **è°ƒè¯•æ¨¡å¼** | âœ… å¯ç”¨ | âŒ å…³é—­ | âŒ å…³é—­ |
| **Swagger** | âœ… å¯ç”¨ | âœ… å¯ç”¨ | âŒ å…³é—­ |
| **CORS** | å®½æ¾ | ä¸¥æ ¼ | æœ€ä¸¥æ ¼ |
| **å®‰å…¨** | åŸºç¡€ | å®Œæ•´ | æœ€é«˜ |

## ğŸ¯ æ–°å¢æ–‡ä»¶åˆ—è¡¨

```
rbac_admin_server/
â”œâ”€â”€ settings_dev.yaml      # å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€â”€ settings_test.yaml     # æµ‹è¯•ç¯å¢ƒé…ç½®  
â”œâ”€â”€ settings_prod.yaml     # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ ENVIRONMENT_GUIDE.md   # è¯¦ç»†ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ README_ENV.md          # æœ¬å®ŒæˆæŠ¥å‘Š
â”œâ”€â”€ run-dev.bat           # Windowså¼€å‘å¯åŠ¨è„šæœ¬
â”œâ”€â”€ run-test.bat          # Windowsæµ‹è¯•å¯åŠ¨è„šæœ¬
â”œâ”€â”€ run-prod.bat          # Windowsç”Ÿäº§å¯åŠ¨è„šæœ¬
â””â”€â”€ run-dev.sh            # Linux/Macå¼€å‘å¯åŠ¨è„šæœ¬
```

## ğŸ”§ æŠ€æœ¯å®ç°

### ä¸»è¦ä¿®æ”¹
- **main.go**: æ·»åŠ flagå‚æ•°è§£æå’Œç¯å¢ƒåˆ‡æ¢é€»è¾‘
- **é…ç½®ç³»ç»Ÿ**: æ”¯æŒå¤šç¯å¢ƒé…ç½®æ–‡ä»¶
- **å¯åŠ¨è„šæœ¬**: ä¸€é”®å¯åŠ¨ä¸åŒç¯å¢ƒ

### ä»£ç äº®ç‚¹
```go
// ç¯å¢ƒå‚æ•°è§£æ
flag.StringVar(&env, "env", "dev", "è¿è¡Œç¯å¢ƒ: dev/test/prod")
flag.StringVar(&configPath, "config", "", "é…ç½®æ–‡ä»¶è·¯å¾„")

// æ™ºèƒ½é…ç½®æ–‡ä»¶é€‰æ‹©
func getConfigPath(env string, customPath string) string {
    if customPath != "" {
        return customPath
    }
    
    switch strings.ToLower(env) {
    case "dev", "development":
        return "settings_dev.yaml"
    case "test", "testing":
        return "settings_test.yaml"
    case "prod", "production":
        return "settings_prod.yaml"
    default:
        return "settings.yaml"
    }
}
```

## ğŸ‰ æµ‹è¯•éªŒè¯

### éªŒè¯æ­¥éª¤
1. **å¼€å‘ç¯å¢ƒ**: `go run main.go -env=dev`
2. **æµ‹è¯•ç¯å¢ƒ**: `go run main.go -env=test`  
3. **ç”Ÿäº§ç¯å¢ƒ**: `go run main.go -env=prod`
4. **è‡ªå®šä¹‰é…ç½®**: `go run main.go -config=custom.yaml`

### é¢„æœŸè¾“å‡º
å¯åŠ¨æ—¶ä¼šæ˜¾ç¤ºï¼š
```
ğŸš€ RBACç®¡ç†å‘˜æœåŠ¡å™¨å¯åŠ¨ä¸­...
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          RBAC Admin Server            â•‘
â•‘    Role-Based Access Control System   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸŒ è¿è¡Œç¯å¢ƒ: DEV
ğŸ“ é…ç½®æ–‡ä»¶: settings_dev.yaml
ğŸ—„ï¸ æ•°æ®åº“: SQLite(./data/rbac_admin_dev.db)
```

## ğŸ“ åç»­å»ºè®®

1. **CI/CDé›†æˆ**: å°†ç¯å¢ƒåˆ‡æ¢é›†æˆåˆ°éƒ¨ç½²æµç¨‹
2. **é…ç½®éªŒè¯**: æ·»åŠ é…ç½®æ–‡ä»¶æ ¼å¼éªŒè¯
3. **çƒ­é‡è½½**: æ”¯æŒé…ç½®æ–‡ä»¶ä¿®æ”¹åè‡ªåŠ¨é‡è½½
4. **ç›‘æ§é›†æˆ**: ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„ç›‘æ§é…ç½®

## ğŸŠ æ­å–œï¼ç¯å¢ƒåˆ‡æ¢åŠŸèƒ½å·²å®Œæˆï¼

é¡¹ç›®ç°åœ¨æ”¯æŒçµæ´»çš„ç¯å¢ƒåˆ‡æ¢ï¼Œå¯ä»¥æ ¹æ®ä¸åŒåœºæ™¯ä½¿ç”¨åˆé€‚çš„é…ç½®ï¼Œå¤§å¤§æå‡äº†å¼€å‘å’Œéƒ¨ç½²çš„ä¾¿åˆ©æ€§ã€‚