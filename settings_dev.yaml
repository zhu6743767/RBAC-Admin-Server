# =================================================================================
# ğŸ—ï¸ RBACç®¡ç†å‘˜æœåŠ¡å™¨ - å¼€å‘ç¯å¢ƒé…ç½®
# =================================================================================
# ğŸ“‹ å¼€å‘ç¯å¢ƒç‰¹æ€§ï¼š
#   - è°ƒè¯•æ¨¡å¼å¯ç”¨ï¼Œæ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
#   - æ—¥å¿—çº§åˆ«ä¸ºdebugï¼Œä¾¿äºè°ƒè¯•
#   - ä½¿ç”¨SQLiteæ•°æ®åº“ï¼Œæ— éœ€é¢å¤–å®‰è£…
#   - CORSå…è®¸æ‰€æœ‰æ¥æºï¼Œä¾¿äºå‰åç«¯åˆ†ç¦»å¼€å‘
#   - Swaggeræ–‡æ¡£å¯ç”¨ï¼Œæ–¹ä¾¿APIæµ‹è¯•
# =================================================================================

# æœåŠ¡å™¨é…ç½®
server:
  port: 8080                    # å¼€å‘ç¯å¢ƒç«¯å£
  mode: "debug"                # å¼€å‘æ¨¡å¼ï¼šdebug
  read_timeout: 30s
  write_timeout: 30s
  shutdown_timeout: 30s

# æ•°æ®åº“é…ç½® - å¼€å‘ç¯å¢ƒä½¿ç”¨SQLite
# ç”Ÿäº§ç¯å¢ƒè¯·åˆ‡æ¢åˆ°MySQLæˆ–PostgreSQL
database:
  type: "sqlite"                # å¼€å‘ç¯å¢ƒä½¿ç”¨SQLite
  host: "localhost"
  port: 3306  # SQLiteä¸éœ€è¦ç«¯å£ï¼Œä½†éªŒè¯éœ€è¦éé›¶å€¼
  username: ""
  password: ""
  database: "rbac_admin_dev"
  path: "./data/rbac_admin_dev.db"
  charset: "utf8mb4"
  driver: "sqlite3"            # SQLiteé©±åŠ¨
  max_open_conns: 10           # å¼€å‘ç¯å¢ƒè¿æ¥æ•°è¾ƒå°‘
  max_idle_conns: 5
  conn_max_lifetime: 1h
  conn_max_idle_time: 30m

# ğŸ” JWTé…ç½® - å¼€å‘ç¯å¢ƒä½¿ç”¨ç®€å•å¯†é’¥
jwt:
  secret: "dev-secret-key-change-in-production"  # å¼€å‘ç¯å¢ƒå¯†é’¥
  expire_hours: 24              # 24å°æ—¶æœ‰æ•ˆæœŸ
  refresh_expire_hours: 168    # 7å¤©åˆ·æ–°æœ‰æ•ˆæœŸ
  issuer: "rbac-admin-dev"     # å¼€å‘ç¯å¢ƒé¢å‘è€…
  audience: "rbac-admin-dev"   # å¼€å‘ç¯å¢ƒå—ä¼—

# Redisé…ç½® - å¼€å‘ç¯å¢ƒå¯é€‰
redis:
  host: "localhost"
  port: 6379
  password: ""                  # å¼€å‘ç¯å¢ƒæ— å¯†ç 
  db: 1                         # å¼€å‘ç¯å¢ƒä½¿ç”¨DB1
  pool_size: 50
  min_idle_conns: 5

# ğŸ“ æ—¥å¿—é…ç½® - å¼€å‘ç¯å¢ƒè¯¦ç»†æ—¥å¿—
log:
  level: "debug"               # å¼€å‘ç¯å¢ƒä½¿ç”¨debugçº§åˆ«
  format: "text"               # æ–‡æœ¬æ ¼å¼æ›´æ˜“è¯»
  output: "both"               # åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œæ–‡ä»¶
  log_dir: "./logs/dev"        # å¼€å‘ç¯å¢ƒæ—¥å¿—ç›®å½•
  max_size: 10                 # å°æ–‡ä»¶ä¾¿äºæŸ¥çœ‹
  max_age: 3                   # ä¿ç•™3å¤©
  max_backups: 3
  compress: false              # ä¸å‹ç¼©ä¾¿äºæŸ¥çœ‹
  enable_caller: true          # æ˜¾ç¤ºè°ƒç”¨ä½ç½®
  enable_trace: true           # æ˜¾ç¤ºå †æ ˆè·Ÿè¸ª

# âš¡ æ€§èƒ½é…ç½® - å¼€å‘ç¯å¢ƒå®½æ¾é™åˆ¶
performance:
  enable_pprof: true           # å¯ç”¨æ€§èƒ½åˆ†æ
  max_upload_size: "50MB"      # å¼€å‘ç¯å¢ƒè¾ƒå¤§ä¸Šä¼ é™åˆ¶
  request_rate_limit: 1000     # å¼€å‘ç¯å¢ƒæ— ä¸¥æ ¼é™åˆ¶
  burst_rate_limit: 2000
  enable_compression: false    # å¼€å‘ç¯å¢ƒä¸å‹ç¼©
  compression_level: 1

# ğŸ“‚ æ–‡ä»¶ä¸Šä¼ é…ç½®
upload:
  max_file_size: "50MB"         # å¼€å‘ç¯å¢ƒè¾ƒå¤§é™åˆ¶
  allowed_extensions: [".jpg", ".jpeg", ".png", ".gif", ".pdf", ".txt", ".md"]
  allowed_mime_types: ["image/jpeg", "image/png", "image/gif", "application/pdf", "text/plain"]
  storage_type: "local"        # æœ¬åœ°å­˜å‚¨
  storage_path: "./uploads/dev" # å¼€å‘ç¯å¢ƒä¸Šä¼ ç›®å½•
  max_files_per_request: 10

# ğŸ” ç›‘æ§é…ç½® - å¼€å‘ç¯å¢ƒå…¨å¯ç”¨
monitoring:
  enable_health_check: true
  health_check_path: "/health"
  enable_metrics: true
  metrics_path: "/metrics"
  enable_tracing: true         # å¼€å‘ç¯å¢ƒå¯ç”¨é“¾è·¯è¿½è¸ª
  tracing_endpoint: "http://localhost:14268/api/traces"  # Jaegeræœ¬åœ°åœ°å€

# ğŸŒ CORSé…ç½® - å¼€å‘ç¯å¢ƒå…è®¸æ‰€æœ‰æ¥æº
cors:
  enable: true
  allow_origins: ["*"]         # å¼€å‘ç¯å¢ƒå…è®¸æ‰€æœ‰æ¥æº
  allow_methods: ["GET", "POST", "PUT", "DELETE", "OPTIONS", "PATCH"]
  allow_headers: ["*"]
  allow_credentials: true
  max_age: 12h

# ğŸ”’ å®‰å…¨é…ç½® - å¼€å‘ç¯å¢ƒå®½æ¾
security:
  bcrypt_cost: 10              # å¼€å‘ç¯å¢ƒä½¿ç”¨æ ‡å‡†æˆæœ¬
  max_login_attempts: 100       # å¼€å‘ç¯å¢ƒä¸é™åˆ¶ç™»å½•å°è¯•
  lock_duration_minutes: 1      # å¼€å‘ç¯å¢ƒçŸ­æš‚é”å®š
  session_timeout: 24h         # å¼€å‘ç¯å¢ƒé•¿ä¼šè¯
  api_key_header: "X-API-Key"
  enable_csrf: false            # å¼€å‘ç¯å¢ƒå¯å…³é—­CSRF
  csrf_secret: "dev-csrf-secret"

# ğŸ“š Swaggeré…ç½® - å¼€å‘ç¯å¢ƒå¯ç”¨
swagger:
  enable: true
  title: "RBACç®¡ç†å‘˜API - å¼€å‘ç¯å¢ƒ"
  description: "RBACç®¡ç†å‘˜æœåŠ¡å™¨APIæ–‡æ¡£ - å¼€å‘ç¯å¢ƒ"
  version: "1.0.0-dev"
  host: "localhost:8080"
  base_path: "/api/v1"
  enable_ui: true

# ğŸ¯ åº”ç”¨é…ç½®
app:
  name: "RBACç®¡ç†å‘˜ - å¼€å‘ç¯å¢ƒ"
  version: "1.0.0-dev"
  environment: "development"
  debug: true